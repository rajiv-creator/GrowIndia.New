<!doctype html>
<html><head>
  <meta charset="utf-8"/>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="/config.js?v=12"></script>
  <script src="/components.js?v=12"></script>
</head><body>
<script>
(async function(){
  try{
    const { user } = await window.app.requireAuth();
    // Admin?
    const admin = await window.app.isAdmin(user.id);
    if (admin) { window.location.replace('/employer-home.html'); return; }

    // Company owner?
    const companies = await window.app.db.myCompanies(user.id);
    if ((companies||[]).length > 0) { window.location.replace('/employer-home.html'); return; }

    // Otherwise candidate dashboard
    window.location.replace('/dashboard.html');
  } catch(e){
    window.location.replace('/login.html');
  }
})();
</script>
</body></html>
